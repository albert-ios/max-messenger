# max-messenger

Max Messenger ‚Äî —ç—Ç–æ Real-Time —á–∞—Ç-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–Ω–∞—Ç –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
Backend: Node.js, Express, WebSocket (ws)

Database: SQLite3

Frontend: Vanilla JS, Rspack (Webpack)

Auth: JWT Tokens

üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ù–∞—Å—Ç—Ä–æ–π–∫–∞
–ï—Å–ª–∏ –≤—ã —Å–∫–∞—á–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å–ª–∏ –µ–≥–æ –Ω–∞ –Ω–æ–≤—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å Mac –Ω–∞ Windows), –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —á–∏—Å—Ç—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫.

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞.

–£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–∞–ø–∫–∞ node_modules):

Windows: –£–¥–∞–ª–∏—Ç–µ –ø–∞–ø–∫—É node_modules –∏ —Ñ–∞–π–ª package-lock.json –≤—Ä—É—á–Ω—É—é.

Mac/Linux: rm -rf node_modules package-lock.json

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–Ω–æ–≤–æ:

Bash

npm install
–°–±—Ä–æ—Å –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ):

–£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª database.sqlite –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞.

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä —Å–∞–º —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—É—é –±–∞–∑—É —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —Ç–∞–±–ª–∏—Ü.

‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö.

1. –ó–∞–ø—É—Å–∫ –°–µ—Ä–≤–µ—Ä–∞ (Backend)
–û—Ç–∫—Ä–æ–π—Ç–µ –ø–µ—Ä–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤–≤–µ–¥–∏—Ç–µ:

Bash

npm run server
–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 3000.

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è: üì¶ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ SQLite –∏ üì° WebSocket –≥–æ—Ç–æ–≤.

2. –ó–∞–ø—É—Å–∫ –ö–ª–∏–µ–Ω—Ç–∞ (Frontend)
–û—Ç–∫—Ä–æ–π—Ç–µ –≤—Ç–æ—Ä–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤–≤–µ–¥–∏—Ç–µ:

Bash

npm run dev
–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É 8080.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8080.

üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Real-Time (–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
–ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ WebSocket —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ:

–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–∂–∏–º –ò–Ω–∫–æ–≥–Ω–∏—Ç–æ (–∏–ª–∏ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä) –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Ç–æ–º—É –∂–µ –∞–¥—Ä–µ—Å—É (http://localhost:8080).

–í–æ–π–¥–∏—Ç–µ –ø–æ–¥ –¥–≤—É–º—è —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, User1 –∏ User2).

–û—Ç–∫—Ä–æ–π—Ç–µ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —á–∞—Ç –≤ –æ–±–æ–∏—Ö –æ–∫–Ω–∞—Ö.

–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –æ–∫–Ω–µ ‚Äî –æ–Ω–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ—è–≤–∏—Ç—Å—è –≤–æ –≤—Ç–æ—Ä–æ–º –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

‚ùì –†–µ—à–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–±–ª–µ–º (Troubleshooting)
üî¥ –û—à–∏–±–∫–∞: EADDRINUSE: address already in use
–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø–æ—Ä—Ç (3000 –∏–ª–∏ 8080) –∑–∞–Ω—è—Ç —Å—Ç–∞—Ä—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∑–∞–∫—Ä—ã–ª—Å—è.

–†–µ—à–µ–Ω–∏–µ –¥–ª—è Windows: –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ –µ–≥–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ (–∑–∞–º–µ–Ω–∏—Ç–µ 3000 –Ω–∞ –Ω—É–∂–Ω—ã–π –ø–æ—Ä—Ç):

Bash

netstat -ano | findstr :3000
taskkill //PID <–í–ê–®_PID> //F
–†–µ—à–µ–Ω–∏–µ –¥–ª—è Mac/Linux:

Bash

npx kill-port 3000
# –∏–ª–∏
lsof -i :3000
kill -9 <PID>
üî¥ –û—à–∏–±–∫–∞: SQLITE_ERROR: no column named type
–°–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –†–µ—à–µ–Ω–∏–µ: –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª database.sqlite –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (npm run server). –ë–∞–∑–∞ —Å–æ–∑–¥–∞—Å—Ç—Å—è –∑–∞–Ω–æ–≤–æ —Å –Ω–æ–≤—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏.

üî¥ –û—à–∏–±–∫–∞: not a valid Win32 application
–í—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ Mac/Linux, –≤–Ω—É—Ç—Ä–∏ Windows. –†–µ—à–µ–Ω–∏–µ: –£–¥–∞–ª–∏—Ç–µ –ø–∞–ø–∫—É node_modules –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ npm install –∑–∞–Ω–æ–≤–æ.